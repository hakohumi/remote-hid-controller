<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>Switch Controller</title>
  <style>
    body {
      font-family: sans-serif;
      background-color: #f5f5f5;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 40px 20px;
    }

    h1 {
      margin-bottom: 30px;
    }

    /* YouTube iframeレスポンシブ用 */
.video-wrapper {
  position: relative;
  width: 800px;      /* 固定幅 */
  height: 450px;     /* 固定高さ */
  margin-bottom: 40px;
}

.video-wrapper iframe {
  position: absolute;
  top: 0;
  left: 0;
  width: 800px;     /* 親に合わせて固定 */
  height: 450px;
  border: none;
}

    .controller {
      display: grid;
      grid-template-areas:
        ". up ."
        "left center right"
        ". down .";
      gap: 10px;
      margin-bottom: 30px;
    }

    .btn-grid {
      display: grid;
      grid-template-columns: repeat(4, 80px);
      gap: 10px;
      margin-bottom: 30px;
      justify-content: center;
    }

    button {
      padding: 12px;
      font-size: 1rem;
      border: none;
      border-radius: 8px;
      background-color: #007bff;
      color: white;
      cursor: pointer;
      transition: background 0.2s;
    }

    button:hover {
      background-color: #0056b3;
    }

    .up    { grid-area: up; }
    .down  { grid-area: down; }
    .left  { grid-area: left; }
    .right { grid-area: right; }
    .center { grid-area: center; visibility: hidden; }
  </style>
</head>
<body>
  <h1>Switch Controller with YouTube Live</h1>
  <!-- YouTubeライブ埋め込み -->
  <div class="video-wrapper">
    <iframe
      src="https://www.youtube.com/embed/3-RKqy-XS2w?autoplay=0&mute=1"
      title="YouTube Live Stream"
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
      allowfullscreen
    ></iframe>
  </div>

  <!-- Switch Controller -->
  <div class="controller">
    <button class="up" onclick="sendCommand('w')">↑</button>
    <button class="left" onclick="sendCommand('a')">←</button>
    <div class="center"></div>
    <button class="right" onclick="sendCommand('d')">→</button>
    <button class="down" onclick="sendCommand('s')">↓</button>
  </div>

  <div class="btn-grid">
    <button onclick="sendCommand('x')">X</button>
    <button onclick="sendCommand('y')">Y</button>
    <button onclick="sendCommand('space')">B</button>
    <button onclick="sendCommand('enter')">A</button>
  </div>

  <div class="btn-grid">
    <button onclick="sendCommand('q')">L</button>
    <button onclick="sendCommand('r')">R</button>
    <button onclick="sendCommand('tab')">ZL</button>
    <button onclick="sendCommand('zr')">ZR</button>
  </div>

  <div class="btn-grid">
    <button onclick="sendCommand('plus')">＋</button>
    <button onclick="sendCommand('minus')">−</button>
    <button onclick="sendCommand('cap')">📸</button>
    <button onclick="sendCommand('esc')">🏠</button>
  </div>

  <script>
    function sendCommand(cmd) {
      fetch(`http://filu.xyz/${cmd}`)
        .then(res => res.text())
        .then(msg => console.log(msg))
        .catch(err => console.error("Error:", err));
    }
  </script>
</body>
</html>
